<?xml version="1.0" encoding="utf-8"?>
<androidx.coordinatorlayout.widget.CoordinatorLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="@color/green"
    tools:context=".ui.Splashscreen">

  <!-- AppBarLayout, which contains the toolbar and collapsible content -->
  <com.google.android.material.appbar.AppBarLayout
      android:id="@+id/appbar"
      android:layout_width="match_parent"
      android:layout_height="190dp"
      android:fitsSystemWindows="true">

    <!-- CollapsingToolbarLayout inside AppBarLayout for collapsible effect -->
    <com.google.android.material.appbar.CollapsingToolbarLayout
        android:id="@+id/collapsing_toolbar"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:background="@drawable/bg_dashboard"
        android:fitsSystemWindows="true"
        app:collapsedTitleTextAppearance="@style/TextAppearance.AppCompat.Display1"
        app:collapsedTitleTextColor="@color/white"
        app:contentScrim="@color/green"
        app:expandedTitleTextAppearance="@style/TextAppearance.AppCompat.Display1"
        app:expandedTitleTextColor="@color/white"
        app:layout_scrollFlags="scroll|snap|exitUntilCollapsed"
        android:fontFamily="@font/montserrat_medium"
        app:title="Nutri-Scan">

      <!-- ImageView inside the collapsing toolbar -->
      <ImageView
          android:id="@+id/Gyro_imageView"
          android:layout_width="320dp"
          android:layout_height="200dp"
          android:layout_gravity="center|end"
          android:layout_marginEnd="-90dp"
          android:layout_marginBottom="60dp"
          android:contentDescription="image"
          android:scaleType="centerCrop"
          android:src="@drawable/salad"
          android:elevation="55dp"
          app:layout_collapseMode="parallax" />

      <!-- Toolbar inside the collapsing layout -->
      <androidx.appcompat.widget.Toolbar
          android:id="@+id/toolbar"
          android:layout_width="match_parent"
          android:layout_height="?attr/actionBarSize"
          app:layout_collapseMode="pin" />
    </com.google.android.material.appbar.CollapsingToolbarLayout>
</com.google.android.material.appbar.AppBarLayout>

    <!-- Scrollable content below the AppBar -->
  <androidx.core.widget.NestedScrollView
      android:id="@+id/card_view"
      android:layout_width="match_parent"
      android:layout_height="match_parent"
      android:fillViewport="true"
      android:background="@drawable/bg_dashboard_shape"
      app:layout_behavior="@string/appbar_scrolling_view_behavior">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginTop="6dp"
        android:layout_marginBottom="8dp"
        android:padding="20dp"
        android:orientation="vertical">

      <TextView
          android:id="@+id/greetingTextView"
          android:layout_width="match_parent"
          android:layout_height="wrap_content"
          android:fontFamily="@font/montserrat_medium"
          android:text="Welcome to Nutri-Scan"
          android:textColor="@color/black"
          android:textSize="24sp"
          android:textStyle="bold" />

      <androidx.cardview.widget.CardView
          android:id="@+id/slider_card"
          android:layout_width="match_parent"
          android:layout_height="250dp"
          android:layout_marginTop="8dp"
          app:cardCornerRadius="12dp"
          app:cardElevation="6dp">

        <RelativeLayout
            android:layout_width="match_parent"
            android:layout_height="match_parent">

          <androidx.viewpager2.widget.ViewPager2
              android:id="@+id/viewPager2"
              android:layout_width="match_parent"
              android:layout_height="match_parent"
              android:nestedScrollingEnabled="false" />

          <RelativeLayout
              android:id="@+id/slider_relative"
              android:layout_width="match_parent"
              android:layout_height="wrap_content"
              android:layout_alignParentBottom="true"
              android:padding="16dp">

            <TextView
                android:id="@+id/imageDescription"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:textColor="@android:color/white"
                android:textSize="16sp"
                android:fontFamily="@font/montserrat_medium" />
          </RelativeLayout>
        </RelativeLayout>
      </androidx.cardview.widget.CardView>

      <!-- Changed FrameLayout height to wrap_content -->
      <FrameLayout
          android:id="@+id/container"
          android:layout_width="match_parent"
          android:layout_height="wrap_content"
          android:background="@color/white"
          android:layout_gravity="center" />

      <TextView
          android:id="@+id/knowYourselfText"
          android:layout_width="match_parent"
          android:layout_height="wrap_content"
          android:layout_marginTop="10dp"
          android:fontFamily="@font/montserrat_medium"
          android:text="Do you know Yourself ? ðŸ¤”"
          android:textColor="@color/black"
          android:textSize="20sp"
          android:textStyle="bold" />

      <androidx.viewpager2.widget.ViewPager2
          android:id="@+id/functionalCardsViewPager"
          android:layout_width="match_parent"
          android:layout_height="200dp"
          android:layout_marginTop="10dp"
          android:layout_marginBottom="80dp"
          android:clipToPadding="false"
          android:clipChildren="false"
          android:nestedScrollingEnabled="false"
          android:paddingStart="40dp"
          android:paddingEnd="40dp" />

    </LinearLayout>
  </androidx.core.widget.NestedScrollView>
    <!-- Floating Action Button anchored to the AppBar -->
  <com.google.android.material.floatingactionbutton.FloatingActionButton
      android:id="@+id/fit_pal"
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:clickable="true"
      app:elevation="8dp"
      android:src="@drawable/icon_fitpal"
      app:fabCustomSize="60dp"
      app:maxImageSize="40dp"
      android:contentDescription="Text"
      app:layout_anchor="@id/card_view"
      app:layout_anchorGravity="end|top"
      android:layout_marginRight="20dp"
      android:layout_marginBottom="16dp"
      android:backgroundTint="@color/white"
      app:tint="@color/green"/>


  <com.google.android.material.floatingactionbutton.FloatingActionButton
      android:id="@+id/fit_pal_food"
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:baselineAlignBottom="false"
      android:clickable="true"
      app:elevation="8dp"
      android:src="@drawable/icon_food_calorie_dashboard"
      app:fabSize="normal"
      android:contentDescription="Text"
      app:layout_anchor="@id/card_view"
      app:layout_anchorGravity="end|top"
      android:layout_marginRight="85dp"
      android:backgroundTint="@color/white"
      app:tint="@color/green"
      app:maxImageSize="36dp"
      android:visibility="invisible"/>

<!--  <com.google.android.material.floatingactionbutton.FloatingActionButton-->
<!--      android:id="@+id/fit_pal_excercise"-->
<!--      android:layout_width="wrap_content"-->
<!--      android:layout_height="wrap_content"-->
<!--      android:baselineAlignBottom="false"-->
<!--      android:clickable="true"-->
<!--      app:borderWidth="2dp"-->
<!--      app:elevation="8dp"-->
<!--      android:src="@drawable/icon_calorie_burnt"-->
<!--      app:fabSize="normal"-->
<!--      android:contentDescription="Text"-->
<!--      app:layout_anchor="@id/card_view"-->
<!--      app:layout_anchorGravity="end|top"-->
<!--      android:layout_marginRight="140dp"-->
<!--      android:backgroundTint="@color/white"-->
<!--      app:tint="@color/green"-->
<!--      app:maxImageSize="36dp"-->
<!--      android:visibility="invisible"/>-->


  <com.google.android.material.bottomappbar.BottomAppBar
      android:layout_width="match_parent"
      android:layout_height="wrap_content"
      android:id="@+id/bottomAppBar"
      android:layout_gravity="bottom"
      android:backgroundTint="@color/green"
      app:contentInsetStart="0dp"
      app:contentInsetEnd="0dp"
      app:fabAlignmentMode="center"
      app:fabAnimationMode="slide"
      app:fabCradleMargin="15dp"
      app:fabCradleRoundedCornerRadius="15dp"
      app:fabCradleVerticalOffset="10dp">

    <com.google.android.material.bottomnavigation.BottomNavigationView
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:id="@+id/bottom_navigation"
        android:background="@android:color/transparent"
        app:itemIconSize="25dp"
        app:itemIconTint="@color/white"
        app:itemTextColor="@color/white"
        app:labelVisibilityMode="labeled"
        app:menu="@menu/bottom_menu"/>

  </com.google.android.material.bottomappbar.BottomAppBar>


    <!-- Another Floating Action Button in the center-bottom -->
      <com.google.android.material.floatingactionbutton.FloatingActionButton
          android:id="@+id/fab"
          android:layout_width="wrap_content"
          android:layout_height="wrap_content"
          android:contentDescription="@string/title_dashboard"
          android:src="@drawable/icon_scanner"
          app:backgroundTint="@android:color/white"
          android:layout_gravity="bottom|center"
          android:layout_marginBottom="56dp"
          app:tint="@color/green"
          app:maxImageSize="42dp"/>


</androidx.coordinatorlayout.widget.CoordinatorLayout>


    <!-- Bottom Navigation Bar if need to replace -->
    <!--    <com.google.android.material.bottomnavigation.BottomNavigationView-->
    <!--        android:id="@+id/bottom_navigation"-->
    <!--        android:layout_width="match_parent"-->
    <!--        android:layout_height="wrap_content"-->
    <!--        android:layout_gravity="bottom"-->
    <!--        app:menu="@menu/bottom_menu"-->
    <!--        app:itemBackground="@color/green"-->
    <!--        app:itemIconTint="@color/white"-->
    <!--        app:itemTextColor="@color/white"/>-->